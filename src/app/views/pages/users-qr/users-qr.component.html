<div class="user-form text-center mt-20" style="margin-top: 10px">
  <h1>Validar pase de Ingreso</h1>

  <!-- QR CODE: JUST TODAY RESERVATIONS -->
  <ng-container>
    <h3 style="margin-bottom: 0">Ingresar código:</h3>
    <div class="qr-input">
      <input #searcher class="cli-input" type="text" />
      <button
        (click)="callApi(searcher.value)"
        style="margin: 0 5px"
        class="cli-btn btn-emerald"
      >
        <mat-icon>search</mat-icon>
      </button>
    </div>

    <label style="margin-left: -110px"
      >Selecione el tipo e ingrese su código</label
    >
    <form
      class="row row-cols-lg-auto g-3 align-items-center"
      [formGroup]="myInputCodForm"
    >
      <div>
        <div class="cli-form-element col-f-2">
          <select class="cli-input-white">
            <!-- <option value="" disabled>Selecione</option> -->
            <option value="RE">RE</option>
            <option value="MP">MP</option>
          </select>
        </div>
      </div>
        <span>-</span>
        <input
          *ngFor="let cod of listCod"
          #searcher
          class="cli-input input-codigo"
          placeholder="{{ cod.value }}"
          formControlName="value"
        />
        <span class="spacer-input">,</span>

        <input
          *ngFor="let cod of listCod"
          #searcher
          class="cli-input input-codigo"
          placeholder="{{ cod.value }}"
          formControlName="value"
        />
        <span class="spacer-input">,</span>
        <input
        *ngFor="let cod of listCod"
        #searcher
        class="cli-input input-codigo"
        placeholder="{{ cod.value }}"
        formControlName="value"
      />


      <button
        (click)="callApi(searcher.value)"
        style="margin: 0 5px"
        class="cli-btn btn-emerald"
      >
        <mat-icon>search</mat-icon>
      </button>
    </form>

    <h3 style="margin-bottom: 0">O Escanear QR:</h3>
    <div class="qrcode-wrapper">
      <!-- MY QR CODE -->
      <ng-container *ngIf="!scanningQR">
        <!-- <qr-code value="RE-{{detail.id | number:'9.0'}}"></qr-code>
            <div>RE-{{detail.id | number:'9.0'}}</div> -->
      </ng-container>

      <!-- QR READER -->
      <qr-scanner
        *ngIf="scanningQR"
        [debug]="false"
        [canvasWidth]="320"
        [canvasHeight]="320"
        [stopAfterScan]="true"
        [updateTime]="500"
      >
      </qr-scanner>
      <select
        *ngIf="scanningQR"
        style="width: 180px"
        class="cli-input-white"
        (change)="chooseCamera($event.target.value)"
      >
        <option *ngFor="let d of videoDevices" [value]="d.deviceId">
          {{ d.label }}
        </option>
      </select>
    </div>

    <!-- BUTTON READ QR -->
    <div style="display: flex; justify-content: center">
      <button
        *ngIf="!scanningQR"
        class="cli-btn btn-emerald"
        (click)="scanSiteQrCode()"
      >
        <mat-icon class="icon-18">qr_code_scanner</mat-icon>
        Scanea tu código
      </button>
      <button
        *ngIf="scanningQR"
        class="cli-btn btn-orange"
        (click)="stopScanningQr()"
      >
        Dejar de escanear
      </button>
    </div>
  </ng-container>
</div>
